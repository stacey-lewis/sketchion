(this["webpackJsonpbody-expression-drawing-app"]=this["webpackJsonpbody-expression-drawing-app"]||[]).push([[0],{224:function(e,o,n){},225:function(e,o,n){},226:function(e,o,n){"use strict";n.r(o);var s=n(0),r=n.n(s),t=n(85),c=n.n(t),i=(n(94),n.p,n(8)),a=(n(27),n(15)),d=(n(59),n(50)),l=n(48),b=n.n(l),u=function(e){var o,n,s={fillColor:{},borderColor:{},brushSelected:1,loadingMessageSetter:null},r={predictions:[],prevXPos:0,prevYPos:0,prevXPosThumb:0,prevYPosThumb:0,xIndex:0,yIndex:0,xThumb:0,yThumb:0,verticesX:[],verticesY:[]},t=e.windowWidth-340,c=e.windowHeight;e.setup=function(){e.colorMode(e.RGBA,255);var s={flipHorizontal:!0,maxContinuousChecks:1/0,detectionConfidence:.8,scoreThreshold:.75,iouThreshold:.3};o=e.createCanvas(t,c),n=e.createCapture(e.VIDEO),a.handpose(n,s,a.modelReady).on("predict",(function(e){r.predictions=e})),o.parent("handpose-canvas"),n.parent("handpose-video-component"),n.hide(),e.background(255)},e.myCustomRedrawAccordingToNewPropsHandler=function(e){if(console.log("Custom Redraw!!!"),e.brushselected&&(s.brushSelected=e.brushselected),"function"===typeof e.setloadingmessage&&(console.log("setloading message!",e.setloadingmessage),s.loadingMessageSetter=e.setloadingmessage),e.fillcolourselected){var o="rgba(".concat(e.fillcolourselected.r,",").concat(e.fillcolourselected.g,",").concat(e.fillcolourselected.b,",").concat(e.fillcolourselected.a,")");s.fillColor=o}if(e.outlinecolourselected){var n="rgba(".concat(e.outlinecolourselected.r,",").concat(e.outlinecolourselected.g,",").concat(e.outlinecolourselected.b,",").concat(e.outlinecolourselected.a,")");s.borderColor=n}},a.modelReady=function(){console.log("Model ready!"),s.loadingMessageSetter("")},e.draw=function(){e.keyIsDown(13)&&i(),e.keyIsDown(40)&&(e.clear(),e.background(255),r.prevXPos=0,r.prevYPos=0,r.prevXPosThumb=0,r.prevYPosThumb=0,r.xIndex=0,r.yIndex=0,r.xThumb=0,r.yThumb=0,r.verticesX=[],r.verticesY=[]),e.keyIsDown(13)||(r.prevXPos=0,r.prevYPos=0,r.prevXPosThumb=0,r.prevYPosThumb=0,r.xIndex=0,r.yIndex=0,r.xThumb=0,r.yThumb=0,r.verticesX=[],r.verticesY=[]),1==e.keyIsPressed&&"s"===e.key&&h()};var i=function(){e.fill(s.fillColor),e.strokeWeight(1),e.stroke(s.borderColor),1===s.brushSelected?(e.noStroke(),b()):2===s.brushSelected?(e.strokeWeight(1),l()):3===s.brushSelected?(e.noFill(),e.strokeWeight(1),u()):4===s.brushSelected?(e.noStroke(),p()):(5===s.brushSelected||6===s.brushSelected)&&d()},d=function(){for(var o=0;o<r.predictions.length;o+=1)for(var n=r.predictions[o],s=0;s<n.landmarks.length;s+=1){var t=n.landmarks[s];e.ellipse(t[0],t[1],10,10)}},l=function(){for(var o=0;o<r.predictions.length;o+=1){var n=r.predictions[o].landmarks[8];if(r.xIndex=e.map(n[0],0,640,0,t),r.yIndex=e.map(n[1],0,480,0,c),0!=r.prevXPos&&0!=r.prevYPos){var s=0;s=r.xIndex-r.prevXPos+(r.yIndex-r.prevYPos)/2<10?Math.abs((r.xIndex-r.prevXPos+(r.yIndex-r.prevYPos))/2):2,e.strokeWeight(s),e.line(r.xIndex,r.yIndex,r.prevXPos,r.prevYPos)}}r.prevXPos=r.xIndex,r.prevYPos=r.yIndex},b=function(){for(var o=0;o<r.predictions.length;o+=1){var n=r.predictions[o].landmarks[8];if(r.xIndex=e.map(n[0],0,640,0,t),r.yIndex=e.map(n[1],0,480,0,c),0!=r.xIndex&&0!=r.yIndex){var s=0;s=r.xIndex-r.prevXPos+(r.yIndex-r.prevYPos)/2<20?Math.abs((r.xIndex-r.prevXPos+(r.yIndex-r.prevYPos))/2):20,e.ellipse(r.xIndex,r.yIndex,s,s)}r.prevXPos=r.xIndex,r.prevYPos=r.yIndex}},u=function(){for(var o=0;o<r.predictions.length;o+=1){var n=r.predictions[o],s=n.landmarks[8];r.xIndex=e.map(s[0],0,640,0,t),r.yIndex=e.map(s[1],0,480,0,c);var i=n.landmarks[4];r.xThumb=e.map(i[0],0,640,0,t),r.yThumb=e.map(i[1],0,480,0,c),0!=r.prevXPos&&0!=r.prevYPos&&0!=r.prevXPosThumb&&0!=r.prevYPosThumb&&0!=r.xThumb&&0!=r.yThumb&&0!=r.xIndex&&0!=r.yIndex&&(e.line(r.xIndex,r.yIndex,r.prevXPos,r.prevYPos),e.line(r.xThumb,r.yThumb,r.prevXPos,r.prevYPos),e.line(r.xThumb,r.yThumb,r.prevXPosThumb,r.prevYPosThumb)),r.prevXPosThumb=r.xThumb,r.prevYPosThumb=r.yThumb,r.prevXPos=r.xIndex,r.prevYPos=r.yIndex}},p=function(){for(var o=0;o<r.predictions.length;o+=1){var n=r.predictions[o],s=n.landmarks[8];r.xIndex=e.map(s[0],0,640,0,t),r.yIndex=e.map(s[1],0,480,0,c);var i=n.landmarks[4];if(r.xThumb=e.map(i[0],0,640,0,t),r.yThumb=e.map(i[1],0,480,0,c),r.verticesX.length<2)r.verticesX=[r.xIndex,r.xThumb,r.xIndex],r.verticesY=[r.yIndex,r.yThumb,r.yIndex];else{var a=Math.floor(r.verticesX.length/2);r.verticesX.splice(a,0,r.xIndex),r.verticesX.splice(a,0,r.xThumb),r.verticesY.splice(a,0,r.yIndex),r.verticesY.splice(a,0,r.yThumb),e.beginShape();for(var d=0;d<r.verticesX.length;d++)e.vertex(r.verticesX[d],r.verticesY[d]);e.endShape()}r.prevXPosThumb=r.xThumb,r.prevYPosThumb=r.yThumb,r.prevXPos=r.xIndex,r.prevYPos=r.yIndex}},h=function(){e.saveCanvas("sketchion-creation","png")}},p=n(3),h=function(e){var o=Object(s.useState)(1),n=Object(i.a)(o,2),r=n[0],t=n[1],c=Object(s.useState)("loading ... "),a=Object(i.a)(c,2),l=a[0],h=a[1],x=Object(s.useState)(1),v=Object(i.a)(x,2),j=(v[0],v[1],Object(s.useState)({r:0,g:0,b:0,a:1})),m=Object(i.a)(j,2),g=m[0],f=m[1],O=Object(s.useState)({r:0,g:0,b:0,a:1}),y=Object(i.a)(O,2),I=y[0],P=y[1],k=Object(s.useState)(!1),T=Object(i.a)(k,2),C=T[0],X=T[1],Y=Object(s.useState)(!1),S=Object(i.a)(Y,2),w=S[0],N=S[1],M=function(e){t(e)},R=function(e,o){o?f(e.rgb):P(e.rgb)},B=function(e){"background"===e&&X(!C),"border"===e&&N(!w)},W=function(e){"background"===e&&X(!1),"border"===e&&N(!1)};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{id:"handpose-component",children:[Object(p.jsxs)("header",{className:"header",children:[Object(p.jsx)("h1",{className:"logo",children:"sketchion."}),Object(p.jsxs)("div",{id:"handpose-controls",children:[Object(p.jsxs)("p",{id:"info",children:[Object(p.jsx)("span",{className:"logo",children:"sketchion"})," tracks your hand movement - enabling you to create expressive digital artworks."]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:"detailed-instructions",children:[Object(p.jsxs)("p",{children:["Simply enable webcam, hold down ",Object(p.jsx)("code",{children:"ENTER"})," and start creating."]}),Object(p.jsxs)("p",{children:["Hit ",Object(p.jsx)("code",{children:"DOWN ARROW"})," to reset the canvas, & ",Object(p.jsx)("code",{children:"s"})," to download canvas."]})," ",Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"grid-swatches",children:[Object(p.jsx)("img",{onClick:function(){return M(1)},src:"dots.png",alt:"",style:{border:1===r?"2pt solid rgb(185, 185, 185)":"2pt solid rgb(185, 185, 185, 0.15)"}}),Object(p.jsx)("img",{onClick:function(){return M(2)},src:"line.png",alt:"",style:{border:2===r?"2pt solid rgb(185, 185, 185)":"2pt solid rgb(185, 185, 185, 0.15)"}}),Object(p.jsx)("img",{onClick:function(){return M(3)},src:"hash.png",alt:"",style:{border:3===r?"2pt solid rgb(185, 185, 185)":"2pt solid rgb(185, 185, 185, 0.15)"}}),Object(p.jsx)("img",{onClick:function(){return M(4)},src:"hash-fill.png",alt:"",style:{border:4===r?"2pt solid rgb(185, 185, 185)":"2pt solid rgb(185, 185, 185, 0.15)"}}),Object(p.jsx)("img",{onClick:function(){return M(5)},src:"hand.png",alt:"",style:{border:5===r?"2pt solid rgb(185, 185, 185)":"2pt solid rgb(185, 185, 185, 0.15)"}})]}),Object(p.jsxs)("div",{className:"button1",children:[Object(p.jsxs)("button",{className:"colourButton",onClick:function(){return B("background")},children:["fill colour",Object(p.jsx)("div",{className:"previewBackgroundColor",style:{backgroundColor:" rgba(".concat(g.r,",").concat(g.g,",").concat(g.b,",").concat(g.a,")"),border:"2pt solid  rgba(".concat(g.r,",").concat(g.g,",").concat(g.b,",").concat(g.a,")")}})]}),C?Object(p.jsxs)("div",{className:"popover",children:[Object(p.jsx)("div",{className:"cover",onClick:function(){return W("background")}}),Object(p.jsx)(d.a,{color:g,onChangeComplete:function(e,o){return R(e,!0)}})]}):null]}),Object(p.jsxs)("div",{className:"button2",children:[Object(p.jsx)("div",{children:Object(p.jsxs)("button",{className:"colourButton",onClick:function(){return B("border")},children:["border colour",Object(p.jsx)("div",{className:"previewBorderColor",style:{border:"2pt solid rgba(".concat(I.r,",").concat(I.g,",").concat(I.b,",").concat(I.a,")")}})]})}),w?Object(p.jsxs)("div",{className:"popover",children:[Object(p.jsx)("div",{className:"cover",onClick:function(){return W("border")}}),Object(p.jsx)(d.a,{color:I,onChangeComplete:function(e,o){return R(e,!1)}})]}):null]}),Object(p.jsx)("div",{})]}),Object(p.jsxs)("p",{id:"footer",children:["\xa9 ",Object(p.jsx)("span",{className:"logo",children:"sketchion"})," -- stacey lewis 2021"]})]})]}),Object(p.jsxs)("div",{id:"handpose-canvas",children:[Object(p.jsxs)("div",{className:"loadingmessage",children:[l," "]}),Object(p.jsx)(b.a,{sketch:u,brushselected:r,outlinecolourselected:I,fillcolourselected:g,setloadingmessage:h})]}),Object(p.jsx)("div",{id:"handpose-video-component"})]})})};n(224);var x=function(){return Object(p.jsx)("div",{className:"home",children:Object(p.jsx)("div",{children:Object(p.jsx)(h,{})})})};n(225);var v=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(x,{})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,228)).then((function(o){var n=o.getCLS,s=o.getFID,r=o.getFCP,t=o.getLCP,c=o.getTTFB;n(e),s(e),r(e),t(e),c(e)}))};c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root")),j()},59:function(e,o,n){},94:function(e,o,n){}},[[226,1,2]]]);
//# sourceMappingURL=main.ac5f4a96.chunk.js.map